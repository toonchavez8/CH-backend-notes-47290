<main class="px-4">
	<section class="max-w-lg mx-auto mt-10">
		<h1 class="text-2xl font-bold mb-4 text-white">RealTime products</h1>

		<form
			action=""
			id="createForm"
			class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"
		>
			<div class="mb-4">
				<label class="block text-gray-700 text-sm font-bold mb-2" for="title">
					Title
				</label>
				<input
					class="shadow appearance-none border-1 border-bottom border-purple-600 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="title"
					type="text"
					placeholder="Title"
				/>
			</div>

			<div class="mb-4">
				<label
					class="block text-gray-700 text-sm font-bold mb-2"
					for="description"
				>
					Description
				</label>
				<textarea
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="description"
					placeholder="Description"
				></textarea>
			</div>

			<div class="mb-4">
				<label class="block text-gray-700 text-sm font-bold mb-2" for="price">
					Price
				</label>
				<input
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="price"
					type="number"
					placeholder="Price"
				/>
			</div>

			<div class="mb-4">
				<label class="block text-gray-700 text-sm font-bold mb-2" for="code">
					Code
				</label>
				<input
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="code"
					type="text"
					placeholder="Code"
				/>
			</div>

			<div class="mb-4">
				<label class="block text-gray-700 text-sm font-bold mb-2" for="stock">
					Stock
				</label>
				<input
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="stock"
					type="number"
					placeholder="Stock"
				/>
			</div>

			<div class="mb-4">
				<label class="block text-gray-700 text-sm font-bold mb-2" for="image">
					Image
				</label>
				<input
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="image"
					type="text"
					placeholder="Image link"
				/>
			</div>

			<div class="mb-4">
				<label
					class="block text-gray-700 text-sm font-bold mb-2"
					for="categories"
				>
					Categories (Separate with commas)
				</label>
				<input
					class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
					id="categories"
					type="text"
					placeholder="Categories"
				/>
			</div>

			<button
				class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
				id="createBtn"
			>
				Create
			</button>
		</form>

	</section>

	<section class="flex-grow pt-12 pb-24">
		<div
			class="table-container mx-auto max-w-4xl rounded-lg border border-purple-600 snap-x snap-start"
			style="max-height: 600px; overflow-y: scroll;"
		>
			<table class="table-auto w-full" id="realProductsTable">
				<thead>
					<tr class="bg-purple-600 text-white">
						<th class="px-4 py-2 text-left">ID</th>
						<th class="px-4 py-2 text-left">Title</th>
						<th class="px-4 py-2 text-left hidden md:table-cell">Image</th>
						<th
							class="px-4 py-2 text-left hidden md:table-cell"
						>Description</th>
						<th class="px-4 py-2 text-left hidden sm:table-cell">Code</th>
						<th class="px-4 py-2 text-left hidden sm:table-cell">Stock</th>
						<th class="px-4 py-2 text-left">Price</th>
						<th class="px-4 py-2 text-center md:text-left">Actions</th>
					</tr>
				</thead>
				<tbody class="text-white">
					{{#each processedProducts}}
						<tr class="even:bg-gray-600 even:bg-opacity-10">
							<td
								class="border-b border-purple-600 px-4 py-2"
							>{{this.shortId}}</td>
							<td
								class="border-b border-purple-600 px-4 py-2"
							>{{this.title}}</td>
							<td class="hidden md:table-cell border-b border-purple-600">
								<div class="aspect-square w-24 h-24">
									<img
										src="{{this.thumbnail}}"
										alt="{{this.title}}"
										class="w-full h-full object-cover"
									/>
								</div>
							</td>
							<td class="hidden md:table-cell border-b border-purple-600">
								<p class="text-center">{{this.description}}</p>
							</td>
							<td
								class="border-b border-purple-600 px-4 py-2 hidden sm:table-cell"
							>{{this.code}}</td>
							<td
								class="border-b border-purple-600 px-4 py-2 hidden sm:table-cell"
							>{{this.stock}}</td>
							<td
								class="border-b border-purple-600 px-4 py-2"
							>{{this.price}}</td>

							<td
								class="border-b border-purple-600 px-4 py-2 text-center md:text-left flex flex-row"
							>
								<button
									class="text-lg text-white-600 bg-red-600 rounded px-4 py-0 md:py-2 delete-product-btn"
									data-product-id="{{this._id}}"
								>
									Delete
								</button>
								<button
									class="text-lg text-white bg-blue-500 hover:bg-blue-700 rounded px-4 py-0 md:py-2 ml-2 edit-product-btn"
									data-product-id="{{this._id}}"
								>
									Edit
								</button>
							</td>
						</tr>
					{{/each}}
				</tbody>
			</table>
		</div>
	</section>

</main>
<script src="/index.js" type="module"></script>
<style>
	.table-container { max-height: 600px; */ overflow-y: scroll; } th {
	position:sticky; top: 0; background-color: rgb(147, 51, 234); color: white;
	z-index: 2; }
</style>